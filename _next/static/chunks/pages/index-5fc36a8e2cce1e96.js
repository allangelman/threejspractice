(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8732)}])},8732:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var a=n(5893),s=n(9008),r=n.n(s),l=n(7188),c=n(7294),o=n(1884),i=n(9365),p=n(9477),f=n(9709);let u=e=>{let{selectedMaterial:t}=e,n=(0,f.L)("./threejspractice/glTF/totoro.glb"),s=(0,c.useMemo)(()=>new p.TextureLoader,[]),{scene:r}=(0,o.z)();return(0,c.useEffect)(()=>{if("default"===t)return;let e=s.load("./threejspractice/matcaps/".concat(t)),n=new p.MeshMatcapMaterial({matcap:e});x(r,n)},[r,t,s]),(0,a.jsx)("primitive",{object:n.scene,scale:[.1,.1,.1],position:[0,-1,0]})},d=()=>(0,a.jsxs)("mesh",{scale:[1,3,1],position:[0,0,0],children:[(0,a.jsx)("boxGeometry",{args:[1,1,1,2,2,2]}),(0,a.jsx)("meshStandardMaterial",{color:"red",wireframe:!0})]}),x=(e,t)=>{if(e instanceof p.Mesh&&!(e.geometry instanceof p.PlaneGeometry)){e.material=t;return}for(let n of e.children||[])x(n,t)},m=new p.Raycaster,h=e=>{let{selectedMaterial:t,points:n}=e,{scene:s,camera:r,gl:l}=(0,o.z)(),p=new i.z(r,l.domElement),f=(0,c.useRef)(null);return p.enableDamping=!0,p.rotateSpeed=.5,p.zoomSpeed=.1,s.add(r),f.current&&r.add(f.current),(0,o.A)(()=>{for(let e of(p.update(),n)){let t=e.position.clone();t.project(r);let a=e.elementRef.current;if(!a)continue;let l=300*t.x,c=-(300*t.y);a.style.transform="translateX(".concat(l,"px) translateY(").concat(c,"px) scale(1, 1)"),a.style.scale="scale(1, 1)",a.style.opacity="100%",m.setFromCamera(t,r);let o=m.intersectObjects(s.children,!0);if(console.log(o,s.children),0===o.length)continue;let i=o[0].distance,f=e.position.distanceTo(r.position);i<f?(a.style.transform="translateX(".concat(l,"px) translateY(").concat(c,"px) scale(0.5, 0.5)"),a.style.scale="scale(0.2, 0.2)",a.style.opacity="20%"):(a.style.transform="translateX(".concat(l,"px) translateY(").concat(c,"px) scale(1, 1)"),a.style.scale="scale(1, 1)",a.style.opacity="100%")}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("pointLight",{ref:f,position:[-5,4,10]}),(0,a.jsx)(c.Suspense,{fallback:(0,a.jsx)(d,{}),children:(0,a.jsx)(u,{selectedMaterial:t})})]})};var j=n(4184),y=n.n(j),w=n(7840),_=n.n(w);function g(){let[e,t]=(0,c.useState)("default"),n=(0,c.useRef)(null);return new p.LoadingManager(()=>{}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r(),{children:[(0,a.jsx)("title",{children:"Create Next App"}),(0,a.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,a.jsx)("link",{rel:"icon",href:"/threejspractice/favicon.ico"})]}),(0,a.jsxs)("div",{className:"flex mx-auto mt-[20px] w-[600px] h-[600px]",children:[(0,a.jsx)(l.Xz,{camera:{fov:50,position:[0,2,5]},className:"h-[800px] bg-slate-700",children:(0,a.jsx)(h,{selectedMaterial:e,points:[{elementRef:n,position:new p.Vector3(0,0,.8)}]})}),(0,a.jsx)("div",{ref:n,className:y()(_().point,"w-5 h-5 rounded-full absolute top-1/2 left-1/2 bg-black/50")})]})]})}},7840:function(e){e.exports={point:"styles_point__fOBi6"}}},function(e){e.O(0,[737,162,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);